### Project overview

The aim of this project is to cluster global islands using a two-step fuzzy clustering methodology, based on a set of characteristics related to energy transition processes.

The proposed approach is designed to overcome the limitations of standard one-step clustering techniques when applied to heterogeneous energy systems of different sizes.

---

## Datasets

Datasets are stored in the data folder:

* `df_total.csv` contains all islands for which data are available.

* `df_complete.csv` contains only islands with complete data (rows with missing values removed). This dataset also includes a label used to categorize islands according to electric energy consumption and, consequently, energy system size.

---

## Project structure

The project is organized into three main folders:

1. `one_step_clustering`
    This folder contains a single script implementing K-Means clustering with different numbers of clusters. Results are saved in the `dataframes`. This analysis shows that a one-step clustering approach does not produce clusters consistent with electric consumption labels. These results motivate the adoption of a two-step methodology, in which clustering is applied separately within four consumption classes defined on the basis of natural-resource-related features only.

1. `synthetic_data_analysis`
    This folder contains scripts used to generate synthetic datasets, apply the Fuzzy C-Means (FCM) algorithm, and analyze the relationship between fuzziness and assignment stability. The synthetic analysis is used to:

    * benchmark the methodology

    * study the behavior of fuzziness indicators,

    * validate the approach before its application to real-world data.

3. `two_step_analysis`
    In this folder, the same methodology developed and validated using synthetic data is applied to the four groups derived from the real dataset, corresponding to the four electric consumption classes.

---

## Execution

The analyses in both `synthetic_data_analysis` and `two_step_analysis` can be executed by running the `run_all.py` script contained in each folder. This script manages the execution of all dependent scripts.

The files `analysis_tools.py` and `preprocess.py` contain functions used to evaluate fuzzy clustering results and preprocess datasets; they are imported by multiple scripts across different folders.

---

## Synthetic_data_analysis

The scripts in the `synthetic_data_analysis` folder are executed in the following order:

* `dataset_generation.py`
    This script generates multiple synthetic datasets by varying the parameters of the data generation functions. Datasets simulate clustered structures by generating random cluster centers and adding noise to create data points.

    * Outliers and overlapping points can be generated.

    * Two types of outliers are considered:
        * `outliers_1`: generated by perturbing one or two dimensions of normal points;
        * `outliers_2`: generated as completely random points.

    Datasets are saved in `dataframes/X_dimensions/raw`, where `X` denotes the number of features. For two-dimensional datasets, visualization plots are exported to `dataframes/2_dimensions/plot`.
    Dataset types reproduce real electric consumption group sizes in terms of both number of points and number of clusters. An additional dataset type, `TEST`, includes a larger number of points in order to generate more complex cluster structures.

* `clustering.py`
    This script preprocesses the datasets and applies:
    * K-Means clustering,
    * Fuzzy C-Means clustering for different values of the fuzziness parameter *m*.
    Cluster labels are appended to the datasets and exported to `dataframes/X_dimensions/clustering`.

* `statistics.py`
    This scripts computes:
    * fuzziness indicators for each point (entropy and assignment gap),
    * stability indicators obtained by applying random perturbations to the data points and evaluating the stability of their cluster assignments.
    Indicators are appended to the datasets and exported to `dataframes/X_dimensions/statistics`.

* `statistics_aggregation.py`
    This script computes mean values and quantiles of fuzziness and stability indicators, distinguishing between normal, overlapping, and outlier points. Results are exported as `.xlsx` files to `results_analysis/X_dimensions/statistics_aggregation`. Additionally, mean values aggregated by dataset type are exported to the `results_analysis` folder.

* `fuz_stability_link.py`
    This script explores the relationship between fuzziness and stability indicators by computing:
    * correlations,
    * mean stability values within fuzziness intervals and quantiles.
    The analysis is performed separately for all, normal, overlapping, and outlier points. 
    Results are exported as `.xlsx` files to `results_analysis/X_dimensions/fuz_stability_link`.

* `kendalltau.py`
    This script computes the Kendallâ€™s tau coefficient between fuzziness and stability indicators. This coefficient is more robust to outliers and tied values than linear correlation measures and is therefore used to assess monotonic relationships. Mean values are computed across datasets of the same type to mitigate the impact of anomalous datasets. Results are exported as `.xlsx` files to the `results_analysis` folder.

---

## Two step analysis

In this folder, the same analysis workflow developed for synthetic data is applied to the real dataset. The structure is almost identical, except for the absence of dataset generation scripts.
All datasets correspond to the four electric consumption classes and share the same number of features; therefore, no X_dimensions subfolders are required.